# Бот c рецептами в Telegram

Этот проект представляет собой Telegram-бота для рекомендации рецептов.

## Установка

Для запуска скриптов вам понадобится Python третьей версии.

Скачайте код с GitHub.

Для управления зависимостями Python желательно воспользоваться [virtualenv](https://pypi.org/project/virtualenv/).

Установите зависимости с помощью `pip` (или `pip3`, есть конфликт с Python2):
```
pip install -r requirements.txt
```

### Переменные окружения

Часть настроек утилит берётся из переменных окружения. Чтобы их определить, создайте файл `.env` в той же папке, где и скрипты, и запишите туда данные в таком формате: `ПЕРЕМЕННАЯ=значение`.

Доступна 1 переменная:

- `TELEGRAM_BOT_TOKEN` - API-токен telegram-бота, с помощью которого будет работать бот. Например: `TELEGRAM_BOT_TOKEN=958423683:AAEAtJ5Lde5YYfkjergber`. Если такого telegram-бота пока нет, [создайте его](https://way23.ru/регистрация-бота-в-telegram.html). Это обязательная переменная.

## Создание базы данных
Для создания базу данных запустите `cmd`, в командной строке перейдите в папку сайта с помощью команды `cd`, затем запустите следующие команды:
```
python manage.py makemigrations
python manage.py migrate
```

## Загрузка рецептов в базу данных из парсера
    
Для загрузки рецептов в базу данных запустите `cmd`, в командной строке перейдите в папку сайта с помощью команды `cd`, затем запустите интерактивную консоль Python для взаимодействия с базой данных:
```
python manage.py shell
```
В shell пропишите следующие строчки:
```
import recipes_parser
recipes_parser.load_recipes_to_db()
```
Подождите 2 минуты

## Запуск Telegram бота

Для запуска Telegram бота наберите в командной строке команду:
```
python manage.py recipe_bot
```

### Цель проекта

Код написан в образовательных целях в рамках командного проекта на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).